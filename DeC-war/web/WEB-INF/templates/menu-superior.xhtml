<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

  <ui:composition>

    <nav class="navbar navbar-fixed-top navbar-inverse">

      <div class="container-fluid">

        <div class="navbar-header">

          <button type="button" class="navbar-toggle collapsed" 
                  data-toggle="collapse" data-target="#navbar" 
                  aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Navegação</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h:outputLink styleClass="navbar-brand" 
                        value="#{request.contextPath}/"
                        title="Ir ao início">
            Lebre Hotel
          </h:outputLink>
        </div>

        <div id="navbar" class="navbar-collapse collapse">

          <ul class="nav navbar-nav">
            <li>
              <h:outputLink value="#{request.contextPath}/hoteis/unidades"
                            title="Conheça as unidades">
                Hotéis
              </h:outputLink>
            </li>
            <li>
              <h:outputLink value="#{request.contextPath}/contato"
                            title="Fale conosco p/ dúvidas">
                Contato
              </h:outputLink>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <button class="navbar-btn btn btn-primary tooltip-bottom"
                      title="Reservas que você já selecionou"
                      onclick="location.href = '#{request.contextPath}/reservas/mala'">
                <h:panelGroup rendered="#{carrinhoTesteBean.lista.size() > 0}"
                              styleClass="badge">
                  <h:outputText value="#{carrinhoTesteBean.lista.size()}" />
                </h:panelGroup>
                Reservas
                <i class="fa fa-fw fa-lg fa-suitcase"></i>
              </button>
            </li>
            <li>
              <!-- Split button -->
              <c:choose>

                <c:when test="#{clienteSessionBean.cliente.nome != null}">
                  <h:form>
                    <div class="btn-group">
                      <button type="button" class="btn btn-primary navbar-btn tooltip-bottom btn-usuario"
                              onclick="location.href = '#{request.contextPath}/clientes/perfil'">
                        #{clienteSessionBean.cliente.nome}
                        <i class="fa fa-fw fa-lg fa-user"></i>
                      </button>                    
                      <button class="btn btn-primary navbar-btn tooltip-bottom" 
                              title="Encerrar Sessão"
                              jsf:action="#{clienteSessionBean.encerrarSessao()}">
                        <i class="fa fa-fw fa-sign-out"></i>
                      </button>
                    </div>                    
                  </h:form>
                </c:when>

                <c:otherwise>
                  <div class="btn-group">
                    <button type="button" class="btn btn-primary navbar-btn tooltip-bottom"
                            onclick="location.href = '#{request.contextPath}/login'"
                            title="Acesse sua conta para reservar ou gerenciar suas reservas">
                      Entrar
                      <i class="fa fa-fw fa-lg fa-user"></i>
                    </button>
                    <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" 
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                            title="Opções">
                      <span class="caret"></span>
                      <span class="sr-only">Opções</span>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <a href="#{request.contextPath}/clientes/me-cadastrar">
                          Cadastre-se
                        </a>
                      </li>
                      <li role="separator" class="divider"></li>
                      <li>
                        <a href="#{request.contextPath}/clientes/recuperar-senha">
                          Recupere sua senha
                        </a>
                      </li>
                    </ul>
                  </div>
                </c:otherwise>

              </c:choose>
            </li>
          </ul>

        </div><!--/.navbar-collapse -->

      </div>

    </nav>

  </ui:composition>

</html>

